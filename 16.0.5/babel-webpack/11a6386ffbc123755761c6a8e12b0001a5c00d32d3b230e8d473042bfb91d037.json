{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../todo.service\";\nimport * as i2 from \"@angular/forms\";\nclass TodosComponent {\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.todoForm = new FormGroup({\n      title: new FormControl(''),\n      text: new FormControl('')\n    });\n    this.appState = 'default';\n  }\n  ngOnInit() {\n    this.todos = this.todoService.getTodos();\n  }\n  generateID() {\n    const timestamp = Date.now();\n    return timestamp;\n  }\n  addTodo() {\n    let newTodo = {\n      id: this.generateID(),\n      text: this.text,\n      title: this.title\n    };\n    this.todos.push(newTodo);\n    this.todoService.addTodo(newTodo);\n  }\n  deleteTodo(todoID) {\n    for (let i = 0; i < this.todos.length; i++) {\n      if (this.todos[i].id == todoID) {\n        this.todos.splice(i, 1);\n      }\n    }\n    this.todoService.deleteTodo(todoID);\n  }\n  editTodo(todo) {\n    console.log(todo);\n    this.appState = 'edit';\n    this.id = todo.id;\n    this.oldText = todo.text;\n    this.text = todo.text;\n    this.oldTitle = todo.title;\n    this.title = todo.title;\n  }\n  updateTodo() {\n    console.log(this.id, this.text);\n    for (let i = 0; i < this.todos.length; i++) {\n      if (this.todos[i].text == this.oldText) {\n        this.todos[i].text = this.text;\n      }\n      if (this.todos[i].title == this.oldTitle) {\n        this.todos[i].title = this.title;\n      }\n    }\n    this.todoService.updateTodo(this.oldText, this.text, this.oldTitle, this.title);\n  }\n}\nTodosComponent.ɵfac = function TodosComponent_Factory(t) {\n  return new (t || TodosComponent)(i0.ɵɵdirectiveInject(i1.TodoService));\n};\nTodosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodosComponent,\n  selectors: [[\"app-todos\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[3, \"formGroup\"], [\"for\", \"title\"], [\"id\", \"title\", \"type\", \"text\", \"formControlName\", \"title\"], [\"for\", \"text\"], [\"id\", \"text\", \"type\", \"text\", \"formControlName\", \"text\"]],\n  template: function TodosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"form\", 0)(2, \"label\", 1);\n      i0.ɵɵtext(3, \"Title: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"input\", 2);\n      i0.ɵɵelementStart(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Text: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.todoForm);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".todoItem[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 10px 10px 10px 10px;\\n  border: 1px solid #dddddd;\\n}\\n\\n.deleteBtn[_ngcontent-%COMP%] {\\n  color: red;\\n  border: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdG9kb3MvdG9kb3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxrQkFBQTtBQUFKOztBQUdFO0VBQ0UsU0FBQTtFQUNBLDRCQUFBO0VBQ0EseUJBQUE7QUFBSjs7QUFHRTtFQUNFLFVBQUE7RUFDQSxZQUFBO0FBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLnRvZG9JdGVtIHtcclxuICAgIG1hcmdpbi1yaWdodDoxMHB4O1xyXG4gIH1cclxuICBcclxuICB1bCB7XHJcbiAgICBtYXJnaW46MDtcclxuICAgIHBhZGRpbmc6MTBweCAxMHB4IDEwcHggMTBweDtcclxuICAgIGJvcmRlcjoxcHggc29saWQgI2RkZGRkZDtcclxuICB9XHJcbiAgXHJcbiAgLmRlbGV0ZUJ0biB7XHJcbiAgICBjb2xvcjpyZWQ7XHJcbiAgICBib3JkZXI6bm9uZTtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { TodosComponent };","map":{"version":3,"names":["FormGroup","FormControl","TodosComponent","constructor","todoService","todoForm","title","text","appState","ngOnInit","todos","getTodos","generateID","timestamp","Date","now","addTodo","newTodo","id","push","deleteTodo","todoID","i","length","splice","editTodo","todo","console","log","oldText","oldTitle","updateTodo","i0","ɵɵdirectiveInject","i1","TodoService","selectors","decls","vars","consts","template","TodosComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Kacper\\Desktop\\ManageMe\\src\\app\\todos\\todos.component.ts","C:\\Users\\Kacper\\Desktop\\ManageMe\\src\\app\\todos\\todos.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { TodoService } from '../todo.service';\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.scss']\n})\n\nexport class TodosComponent implements OnInit {\n\n  todoForm = new FormGroup({\n    title: new FormControl(''),\n    text: new FormControl('')\n  });\n  \n  todos;\n  id;\n  text;\n  title;\n  oldText;\n  oldTitle;\n  appState = 'default';\n\n  constructor(private todoService: TodoService) { }\n\n  ngOnInit() {\n    this.todos = this.todoService.getTodos();\n  }\n\n  generateID(): number {\n    const timestamp = Date.now();\n    return timestamp;\n  }\n\n  addTodo() {\n    let newTodo = {\n      id: this.generateID(),\n      text: this.text,\n      title: this.title\n    }\n    this.todos.push(newTodo);\n\n    this.todoService.addTodo(newTodo);\n  }\n  \n  deleteTodo(todoID) {\n    for(let i = 0; i < this.todos.length; i++) {\n      if(this.todos[i].id == todoID) {\n          this.todos.splice(i, 1);\n      }\n    }\n\n    this.todoService.deleteTodo(todoID);\n  }\n\n  editTodo(todo) {\n    console.log(todo);\n    this.appState = 'edit';\n    this.id = todo.id;\n    this.oldText = todo.text;\n    this.text = todo.text;\n    this.oldTitle = todo.title;\n    this.title = todo.title;\n  }\n\n  updateTodo() {\n    console.log(this.id, this.text);\n        for(let i = 0; i < this.todos.length; i++) {\n          if(this.todos[i].text == this.oldText) {\n            this.todos[i].text = this.text;\n          }\n          if(this.todos[i].title == this.oldTitle) {\n            this.todos[i].title = this.title;\n          }\n        }\n    this.todoService.updateTodo(this.oldText, this.text, this.oldTitle, this.title);\n  }\n\n}","\n<!-- <div *ngIf=\"appState == 'default'\">\n  <h3>Add Todo</h3>\n  <form (submit)=\"addTodo()\">\n    <input type=\"text\" formControlName=\"text\">\n  </form>\n  </div>\n  \n  <div *ngIf=\"appState == 'edit'\">\n    <h3>Edit Todo</h3>\n  <form (submit)=\"updateTodo()\">\n    <input type=\"text\" formControlName=\"text\">\n  </form>\n  </div>\n  \n  <h3>Todo List</h3>\n  <ul *ngFor=\"let todo of todos\">\n    <span class=\"todoItem\"(click)=\"editTodo(todo)\">TITLE: {{todo.title}} <br> TEXT: {{todo.text}}</span><button class=\"deleteBtn\"(click)=\"deleteTodo(todo.id)\">x</button>\n  </ul> -->\n\n<div>\n  <form [formGroup]=\"todoForm\">\n\n    <label for=\"title\">Title: </label>\n    <input id=\"title\" type=\"text\" formControlName=\"title\">\n  \n    <label for=\"text\">Text: </label>\n    <input id=\"text\" type=\"text\" formControlName=\"text\">\n  \n  </form>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}