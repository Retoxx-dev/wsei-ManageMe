{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nfunction FunctionalityComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Add Functionality\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 2);\n    i0.ɵɵlistener(\"submit\", function FunctionalityComponent_div_0_Template_form_submit_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addTodo());\n    });\n    i0.ɵɵelementStart(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function FunctionalityComponent_div_0_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.text = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.text);\n  }\n}\nfunction FunctionalityComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Edit Functionality\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 2);\n    i0.ɵɵlistener(\"submit\", function FunctionalityComponent_div_1_Template_form_submit_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.updateTodo());\n    });\n    i0.ɵɵelementStart(4, \"input\", 3);\n    i0.ɵɵlistener(\"ngModelChange\", function FunctionalityComponent_div_1_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.text = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.text);\n  }\n}\nfunction FunctionalityComponent_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\")(1, \"span\", 4);\n    i0.ɵɵlistener(\"click\", function FunctionalityComponent_ul_4_Template_span_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const todo_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.editTodo(todo_r9));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function FunctionalityComponent_ul_4_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const todo_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.deleteTodo(todo_r9.text));\n    });\n    i0.ɵɵtext(4, \"x\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const todo_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(todo_r9.text);\n  }\n}\nclass FunctionalityComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n  }\n  ngOnInit() {\n    this.loadFunctionalities();\n  }\n  loadFunctionalities() {\n    this.dataService.getFunctionalities().subscribe(res => {\n      this.functionalities = res;\n    }, error => {\n      console.log(error);\n    });\n  }\n  createFunctionality(name) {\n    const functionality = {\n      name: name,\n      tasks: []\n    };\n    this.dataService.createFunctionality(functionality).subscribe(res => {\n      this.functionalities.push(res);\n    }, error => {\n      console.log(error);\n    });\n  }\n  deleteFunctionality(functionalityId) {\n    this.dataService.deleteFunctionality(functionalityId).subscribe(() => {\n      this.functionalities = this.functionalities.filter(functionality => functionality.id !== functionalityId);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nFunctionalityComponent.ɵfac = function FunctionalityComponent_Factory(t) {\n  return new (t || FunctionalityComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\nFunctionalityComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FunctionalityComponent,\n  selectors: [[\"app-functionality\"]],\n  decls: 5,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"submit\"], [\"type\", \"text\", \"name\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"todoItem\", 3, \"click\"], [1, \"deleteBtn\", 3, \"click\"]],\n  template: function FunctionalityComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, FunctionalityComponent_div_0_Template, 5, 1, \"div\", 0);\n      i0.ɵɵtemplate(1, FunctionalityComponent_div_1_Template, 5, 1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"h3\");\n      i0.ɵɵtext(3, \"Functionality List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, FunctionalityComponent_ul_4_Template, 5, 1, \"ul\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.appState == \"default\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.appState == \"edit\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.todos);\n    }\n  },\n  styles: [\".functionalityItem[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 10px 10px 10px 10px;\\n  border: 1px solid #dddddd;\\n}\\n\\n.deleteBtn[_ngcontent-%COMP%] {\\n  color: red;\\n  border: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZnVuY3Rpb25hbGl0eS9mdW5jdGlvbmFsaXR5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksa0JBQUE7QUFBSjs7QUFHRTtFQUNFLFNBQUE7RUFDQSw0QkFBQTtFQUNBLHlCQUFBO0FBQUo7O0FBR0U7RUFDRSxVQUFBO0VBQ0EsWUFBQTtBQUFKIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5mdW5jdGlvbmFsaXR5SXRlbSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6MTBweDtcclxuICB9XHJcbiAgXHJcbiAgdWwge1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICBwYWRkaW5nOjEwcHggMTBweCAxMHB4IDEwcHg7XHJcbiAgICBib3JkZXI6MXB4IHNvbGlkICNkZGRkZGQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5kZWxldGVCdG4ge1xyXG4gICAgY29sb3I6cmVkO1xyXG4gICAgYm9yZGVyOm5vbmU7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { FunctionalityComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FunctionalityComponent_div_0_Template_form_submit_3_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","addTodo","FunctionalityComponent_div_0_Template_input_ngModelChange_4_listener","$event","ctx_r5","text","ɵɵadvance","ɵɵproperty","ctx_r0","FunctionalityComponent_div_1_Template_form_submit_3_listener","_r7","ctx_r6","updateTodo","FunctionalityComponent_div_1_Template_input_ngModelChange_4_listener","ctx_r8","ctx_r1","FunctionalityComponent_ul_4_Template_span_click_1_listener","restoredCtx","_r11","todo_r9","$implicit","ctx_r10","editTodo","FunctionalityComponent_ul_4_Template_button_click_3_listener","ctx_r12","deleteTodo","ɵɵtextInterpolate","FunctionalityComponent","constructor","dataService","ngOnInit","loadFunctionalities","getFunctionalities","subscribe","res","functionalities","error","console","log","createFunctionality","name","functionality","tasks","push","deleteFunctionality","functionalityId","filter","id","ɵɵdirectiveInject","i1","DataService","selectors","decls","vars","consts","template","FunctionalityComponent_Template","rf","ctx","ɵɵtemplate","FunctionalityComponent_div_0_Template","FunctionalityComponent_div_1_Template","FunctionalityComponent_ul_4_Template","appState","todos"],"sources":["C:\\Users\\Kacper\\Desktop\\ManageMe\\src\\app\\functionality\\functionality.component.ts","C:\\Users\\Kacper\\Desktop\\ManageMe\\src\\app\\functionality\\functionality.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service';\nimport { Functionality } from '../functionality';\n\n@Component({\n  selector: 'app-functionality',\n  templateUrl: './functionality.component.html',\n  styleUrls: ['./functionality.component.scss']\n})\nexport class FunctionalityComponent implements OnInit {\n  functionalities!: Functionality[];\n\n  constructor(private dataService: DataService) { }\n\n  ngOnInit() {\n    this.loadFunctionalities();\n  }\n\n  loadFunctionalities() {\n    this.dataService.getFunctionalities().subscribe(\n      (res: Functionality[]) => {\n        this.functionalities = res;\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n\n  createFunctionality(name: string) {\n    const functionality: Functionality = {\n      name: name,\n      tasks: []\n    };\n\n    this.dataService.createFunctionality(functionality).subscribe(\n      (res: Functionality) => {\n        this.functionalities.push(res);\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n\n  deleteFunctionality(functionalityId: number) {\n    this.dataService.deleteFunctionality(functionalityId).subscribe(\n      () => {\n        this.functionalities = this.functionalities.filter(\n          functionality => functionality.id !== functionalityId\n        );\n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n}\n","<div *ngIf=\"appState == 'default'\">\n  <h3>Add Functionality</h3>\n  <form (submit)=\"addTodo()\">\n    <input type=\"text\" [(ngModel)]=\"text\" name=\"text\">\n  </form>\n  </div>\n  \n  <div *ngIf=\"appState == 'edit'\">\n    <h3>Edit Functionality</h3>\n  <form (submit)=\"updateTodo()\">\n    <input type=\"text\" [(ngModel)]=\"text\" name=\"text\">\n  </form>\n  </div>\n  \n  <h3>Functionality List</h3>\n  <ul *ngFor=\"let todo of todos\">\n    <span class=\"todoItem\"(click)=\"editTodo(todo)\">{{todo.text}}</span><button class=\"deleteBtn\"(click)=\"deleteTodo(todo.text)\">x</button>\n  </ul>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}